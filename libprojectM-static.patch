--- libprojectM-1.2.0/CMakeLists.txt~	2008-06-12 05:39:28.000000000 +0200
+++ libprojectM-1.2.0/CMakeLists.txt	2009-09-22 08:30:24.713992689 +0200
@@ -48,12 +48,12 @@
 endif(USE_FBO)
 
 if (BUILD_PROJECTM_STATIC)
-ADD_LIBRARY(projectM STATIC ${projectM_SOURCES})
-else(BUILD_PROJECTM_STATIC)
-ADD_LIBRARY(projectM SHARED ${projectM_SOURCES})
+ADD_LIBRARY(projectM-static STATIC ${projectM_SOURCES})
+SET_TARGET_PROPERTIES(projectM-static PROPERTIES VERSION 2.00 SOVERSION 2 OUTPUT_NAME projectM)
 endif(BUILD_PROJECTM_STATIC)
+ADD_LIBRARY(projectM-shared SHARED ${projectM_SOURCES})
 
-SET_TARGET_PROPERTIES(projectM PROPERTIES VERSION 2.00 SOVERSION 2)
+SET_TARGET_PROPERTIES(projectM-shared PROPERTIES VERSION 2.00 SOVERSION 2 OUTPUT_NAME projectM)
 
 if (APPLE)
 ADD_DEFINITIONS(-DMACOS -DSTBI_NO_DDS -DUSE_THREADS)
@@ -118,10 +118,9 @@
 LINK_DIRECTORIES(${FTGL_LINK_DIRS} "./")
 
 if(BUILD_PROJECTM_STATIC)
-		TARGET_LINK_LIBRARIES(projectM ${GLEW_LINK_TARGETS} m ${FTGL_LINK_TARGETS} ${OPENGL_LIBRARIES} ${IMAGE_LINK_TARGETS})
-else(BUILD_PROJECTM_STATIC)
-		TARGET_LINK_LIBRARIES(projectM ${GLEW_LINK_TARGETS} m ${FTGL_LINK_TARGETS} ${OPENGL_LIBRARIES}  ${IMAGE_LINK_TARGETS})
+		TARGET_LINK_LIBRARIES(projectM-static ${GLEW_LINK_TARGETS} m ${FTGL_LINK_TARGETS} ${OPENGL_LIBRARIES} ${IMAGE_LINK_TARGETS})
 endif(BUILD_PROJECTM_STATIC)
+TARGET_LINK_LIBRARIES(projectM-shared ${GLEW_LINK_TARGETS} m ${FTGL_LINK_TARGETS} ${OPENGL_LIBRARIES}  ${IMAGE_LINK_TARGETS})
 
 
 CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/libprojectM.pc.in" "${CMAKE_CURRENT_SOURCE_DIR}/libprojectM.pc" @ONLY)
@@ -134,4 +133,7 @@
 INSTALL(FILES "${CMAKE_CURRENT_SOURCE_DIR}/libprojectM.pc" DESTINATION ${CMAKE_INSTALL_PREFIX}/lib${LIB_SUFFIX}/pkgconfig)
 INSTALL(FILES ${CMAKE_CURRENT_SOURCE_DIR}/config.inp DESTINATION ${CMAKE_INSTALL_PREFIX}/share/projectM)
 INSTALL(FILES projectM.hpp event.h dlldefs.h fatal.h PresetFrameIO.hpp PCM.hpp  DESTINATION include/libprojectM)
-INSTALL(TARGETS projectM DESTINATION lib${LIB_SUFFIX})
+if (BUILD_PROJECTM_STATIC)
+	INSTALL(TARGETS projectM-static DESTINATION lib${LIB_SUFFIX})
+endif(BUILD_PROJECTM_STATIC)
+INSTALL(TARGETS projectM-shared DESTINATION lib${LIB_SUFFIX})
